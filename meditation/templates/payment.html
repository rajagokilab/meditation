{% extends "base.html" %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/payment.css' %}">

{% block content %}
<body class="bg-[#ffedea] font-inter ">
<section class="d-flex flex-column align-items-center justify-content-center p-4 bg-[#ffedea] font-inter">
    <div class="container-fluid" style="max-width: 600px;">
        <!-- Payment Details Card -->
<div class="card p-4 mb-5" style="background-color: #f3e8f5; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <h2 class="text-center h5 fw-bold text-[#553355]">Payment Details</h2>
            <hr class="my-3">
            <div class="row mb-2">
                <div class="col text-start text-muted">Therapist Fee Per Session</div>
                <div class="col text-end fw-bold text-[#553355]">Rs.2,500.00</div>
            </div>
            <div class="row mb-2">
                <div class="col text-start text-muted">No. of Session 25</div>
                <div class="col text-end fw-bold text-[#553355]">Rs.62,500.00</div>
            </div>
            <div class="row mb-2">
                <div class="col text-start text-muted">Vehicle Fees</div>
                <div class="col text-end fw-bold text-[#553355]">Rs.1,500.00</div>
            </div>
            <div class="row mb-2">
                <div class="col text-start text-muted">Counselling Fees</div>
                <div class="col text-end fw-bold text-[#553355]">Rs.4,500.00</div>
            </div>
            <hr class="my-3">
            <div class="row fw-bold h5">
                <div class="col text-start text-[#553355]">Total</div>
                <div class="col text-end text-[#553355]">Rs.68,500.00</div>
            </div>
        </div>

        <!-- Payment Method Card -->
<div class="card p-4 mb-5" style="background-color: #f3e8f5; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <h2 class="text-center h5 fw-bold text-[#553355]">Payment Method</h2>
            <hr class="my-3">
            <div class="form-check d-flex justify-content-between align-items-center mb-3 ">
                <label class="form-check-label color-black" for="debitCredit">Debit/ Credit Card</label>
                <input class="form-check-input" type="checkbox" id="debitCredit">
            </div>
            <h5 class="mt-4 mb-3 fw-bold text-[#553355]">UPI</h5>
            <div class="form-check d-flex justify-content-between align-items-center mb-3">
                <label class="form-check-label d-flex align-items-center" for="googlePay">Google Pay</label>
                <input class="form-check-input" type="checkbox" id="googlePay">
            </div>
            <div class="form-check d-flex justify-content-between align-items-center mb-3">
                <label class="form-check-label d-flex align-items-center" for="phonePe">Phone Pe</label>
                <input class="form-check-input" type="checkbox" id="phonePe">
            </div>
            <div class="form-check d-flex justify-content-between align-items-center mb-3">
                <label class="form-check-label d-flex align-items-center" for="paytm">Paytm</label>
                <input class="form-check-input" type="checkbox" id="paytm">
            </div>
            <div class="form-check d-flex justify-content-between align-items-center mb-3">
                <label class="form-check-label d-flex align-items-center" for="amazonPay">Amazon Pay</label>
                <input class="form-check-input" type="checkbox" id="amazonPay">
            </div>
            <div class="form-check d-flex justify-content-between align-items-center mb-3">
                <label class="form-check-label d-flex align-items-center" for="whatsAppPay">WhatsApp</label>
                <input class="form-check-input" type="checkbox" id="whatsAppPay">
            </div>
        </div>

        <button type="button" class="btn btn-confirm w-100 text-white" id="confirmPaymentBtn">Confirm Payment</button>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="paymentSuccessModal" tabindex="-1" aria-labelledby="paymentSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content modal-content-custom bg-[#125960]">
                <div class="modal-body p-5 text-center">
                    <img src="{% static 'images/pay.png' %}" alt="Payment success illustration" class="mx-auto mb-4">
                    <h5 class="fw-bold text-white">Payment Success</h5>
                    <p class="text-white">Your session starts tomorrow</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const confirmBtn = document.getElementById('confirmPaymentBtn');
    const successModal = new bootstrap.Modal(document.getElementById('paymentSuccessModal'));

    confirmBtn.addEventListener('click', function() {
        // Get all payment checkboxes
        const paymentOptions = document.querySelectorAll('.form-check-input');
        let isSelected = false;

        paymentOptions.forEach(option => {
            if (option.checked) {
                isSelected = true;
            }
        });

        if (isSelected) {
            // Show success modal if a payment method is selected
            successModal.show();
        } else {
            // Show an alert if no payment method is selected
            alert("Please select a payment method before confirming.");
        }
    });
});

</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const confirmBtn = document.getElementById('confirmPaymentBtn');
    const successModalEl = document.getElementById('paymentSuccessModal');
    const successModal = new bootstrap.Modal(successModalEl);

    confirmBtn.addEventListener('click', function() {
        // Get all payment checkboxes
        const paymentOptions = document.querySelectorAll('.form-check-input');
        let isSelected = false;

        paymentOptions.forEach(option => {
            if (option.checked) {
                isSelected = true;
            }
        });

        if (isSelected) {
            // Show success modal if a payment method is selected
            successModal.show();

            // Redirect to homepage after 30 seconds
            setTimeout(function() {
                window.location.href = "{% url 'home' %}";  // Replace 'home' with your homepage URL name
            }, 2000); // 30000 milliseconds = 30 seconds
        } else {
            // Show an alert if no payment method is selected
            alert("Please select a payment method before confirming.");
        }
    });
});
</script>


{% endblock %}